<!-- graph.overview.html -->
<section class="boxed normal-cards">

  <div layout-margin="" layout-padding=""></div>


  <div layout="column" layout-align="center center" flex="">
    
    <!-- Title -->
    <div class="normal-title" layout="row" layout-align="start center" layout-fill="">
      <h1 class="md-headline">{{ graphCtrl.content.title }}</h1>
      <span flex=""></span>
      <div ui-view="actions" onload="graphToAction = graphCtrl.content"></div>
    </div>

    <div layout-margin="" layout-padding=""></div>

    <!-- Map Card -->
    <md-card>
      <md-card-title layout-margin="">
        <md-card-title-text>
          <span class="md-headline">Map</span>
        </md-card-title-text>
      </md-card-title>
      <md-card-content layout-margin="">
        <div ng-if="!graphCtrl.content.isProcessed" flex="">
          <div style="height:800px" layout="row" layout-align="center center">
            LOADING...
          </div>
        </div>
        <div ng-if="graphCtrl.content.isProcessed" style="height:800px">
          <div
            id="graph-map"
            vis-network=""
            network="graphCtrl.network"
            visualization="graphCtrl.content.visualization"
            node-shape="graphManagerCtrl.activeSettings.graphVisualisation.value"
            layout-fill="">
          </div>
        </div>
        <div ng-if="!(graphCtrl.content.visualization.legend | isEmpty)">
          <div layout-padding=""></div>
          <div layout-padding=""></div>
          <md-divider></md-divider>
          <div layout-padding=""></div>
          <div layout-padding=""></div>
          <div ng-if="graphCtrl.content.isProcessed" style="height:400px">
            <div class="md-title">Legend</div>
            <div
              id="graph-legend"
              vis-network=""
              network="graphCtrl.legend"
              visualization="graphCtrl.content.visualization.legend"
              node-shape="graphManagerCtrl.activeSettings.graphVisualisation.value"
              layout-fill="">
            </div>
          </div>
        </div>
      </md-card-content>
    </md-card>

    <div layout-margin="" layout-padding=""></div>
    <div layout-margin="" layout-padding=""></div>

    <!-- Details Card -->
    <md-card>
      <md-card-title layout-margin="">
        <md-card-title-text>
          <span class="md-headline">Details</span>
        </md-card-title-text>
      </md-card-title>
      <md-card-content layout-margin="">
        <!-- Title -->
        <div ng-if="graphCtrl.content.title">
          <p style="font-weight:bold">Title</p>
          <p ng-bind-html="graphCtrl.content.title"></p>
          <md-divider></md-divider>
        </div>
        <!-- Owner -->
        <div ng-if="graphCtrl.content.owner">
          <p style="font-weight:bold">Owner</p>
          <p ng-bind-html="graphCtrl.content.owner"></p>
          <md-divider></md-divider>
        </div>
        <!-- Description -->
        <div ng-if="graphCtrl.content.description">
          <p style="font-weight:bold">Description</p>
          <p ng-bind-html="graphCtrl.content.description"></p>
          <md-divider></md-divider>
        </div>
        <!-- Last Updated -->
        <div ng-if="graphCtrl.content.updatedAt">
          <p style="font-weight:bold">Last Updated</p>
          <p ng-bind-html="graphCtrl.content.updatedAt | dateString"></p>
          <md-divider></md-divider>
        </div>
        <!-- Date Created -->
        <div ng-if="graphCtrl.content.createdAt">
          <p style="font-weight:bold">Date Created</p>
          <p ng-bind-html="graphCtrl.content.createdAt | dateString"></p>
        </div>
      </md-card-content>
    </md-card>

    <div layout-margin="" layout-padding=""></div>
    <div layout-margin="" layout-padding=""></div>

    <!-- Analyses Card -->
    <md-card>
      <md-card-title layout-margin="">
        <md-card-title-text>
          <span class="md-headline">Analyses</span>
        </md-card-title-text>
      </md-card-title>
      <md-card-content layout-margin="">
        <!-- Title -->
        <div ng-if="graphCtrl.content.analysers" ng-repeat="(key,value) in graphCtrl.content.analysers">
          <p style="font-weight:bold" ng-bind="key"></p>
          <p ng-bind-html="value"></p>
          <md-button ng-click="graphCtrl.selectedIndex=$index+1" target="_blank">
            <span>Explore</span>
          </md-button>
          <md-divider></md-divider>
        </div>
        <div ng-if="!graphCtrl.content.analysers">
          <p style="font-weight:bold">No Analyses available for this graph!</p>
        </div>
      </md-card-content>
    </md-card>

    <div layout-margin="" layout-padding=""></div>
    <div layout-margin="" layout-padding=""></div>

  </div>
</section>